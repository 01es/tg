<link rel="import" href="/resources/polymer/polymer/polymer.html">

<link rel="import" href="/resources/editors/tg-editor-behavior.html">
<link rel="import" href="/resources/editors/tg-editor.html">

<dom-module id="tg-integer-editor">
    <style>
      	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */
    	/* TODO please, migrate the styles to new version: */

        /* input[type=number]::-webkit-outer-spin-button,
        input[type=number]::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
        
        input[type=number] {
            -moz-appearance: textfield;
        } */
    </style>

    <template>
    	<tg-editor 
    		id="editorDom" 
    		_disabled="[[_disabled]]" 
    		_editing-value="{{_editingValue}}" 
    		action="[[action]]" 
    		_error="[[_error]]" 
    		_comm-value="[[_commValue]]" 
    		_accepted-value="[[_acceptedValue]]" 
    		debug="[[debug]]" 
    		_on-change="[[_onChange]]" 
    		_on-keypress="[[_onKeypress]]">
    	</tg-editor>
    </template>
</dom-module>

<script>
    Polymer({
    	is: 'tg-integer-editor',
    	behaviors: [ Polymer.TgBehaviors.TgEditorBehavior ],
    	
    	ready: function () {
    		this.$.editorDom._editorKind = "INTEGER";
    	},
    	
        /**
         * Converts the value into string representation (which is used in edititing / comm values).
         */
        convertToString: function (value) {
        	// NOTE: consider the follwing example, of how 'super' method can be invoked.
        	//   Just use concrete name of the 'super' behavior and call the function excplicitly:            		
        	// Polymer.TgBehaviors.TgEditorBehavior.convertToString(value);
        	
            return value === null ? "" : "" + value;
        },

        /**
         * Converts the value from string representation (which is used in edititing / comm values) into concrete type of this editor component (Number).
         */
        convertFromString: function (strValue) {
        	if (strValue === '77') {
        		throw 'The value is 77, not permitted.';
        	}
            return strValue === '' ? null : parseInt(strValue);
        }
    });
</script>