<link rel="import" href="/resources/polymer/polymer/polymer.html">
<link rel="import" href="/resources/polymer/core-tooltip/core-tooltip.html">
<link rel="import" href="/resources/polymer/paper-dropdown/paper-dropdown.html">
<link rel="import" href="/resources/polymer/core-icon-button/core-icon-button.html">

<polymer-element name="tg-secondary-action-button" attributes="actions">
    <template>
        <style>
            * /deep/ core-tooltip::shadow #tooltip {
                white-space: normal;
            }
            * /deep/ core-tooltip .span-tooltip {
                line-height: 15px;
            }
            core-tooltip.delayed:hover::shadow .core-tooltip,
            core-tooltip.delayed:focus::shadow .core-tooltip {
                opacity: 1;
                -webkit-transition-delay: 1s;
                transition-delay: 1s;
                transform: translate3d(0px, 0px, 0px);
            }
        </style>
        <core-icon-button icon="more-vert" on-tap="{{showDropDown}}"></core-icon-button>
        <paper-dropdown id="dropdown" style="position:absolute" layout vertical>
            <template repeat="{{action in actions}}">
                <core-tooltip position="bottom" class="delayed" style="width:100%">
                    <core-icon-button icon="{{action.icon}}"></core-icon-button>{{action.actionTitle}}
                    <span class="span-tooltip" tip>{{action.actionDesc}}</span>
                </core-tooltip>
            </template>
        </paper-dropdown>
    </template>
    <script>
        (function () {
            Polymer({
                showDropDown: function() {
                    this.$.dropdown.toggle();
                }
            });
        })();
    </script>
</polymer-element>