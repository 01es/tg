<link rel="import" href="/resources/polymer/polymer/polymer.html">

<link rel="import" href="/tg-reflector">
<link rel="import" href="/resources/layout/tg-flex-layout.html">

<polymer-element name="tg-criterion" attributes="orNull not">
    <template>
        <tg-reflector id="reflector"></tg-reflector>
        <content select=":not(text)" id="components">
        </content>	        
    </template>
    <script>
        Polymer('tg-criterion', {
            publish: {
                /**
                 * This published property specifies whether 'missing value' will be also considered in search queries.
                 */
                orNull: false,

                /**
                 * This published property specifies whether the criterion should be negated.
                 */
                not: false
            },

            ready: function() {
                var flexElement = document.createElement('tg-flex-layout');
                flexElement.whenDesktop = this.whenDesktop;
                flexElement.whenTablet = this.whenDesktop;
                flexElement.whenMobile = this.whenDesktop;

                Array.prototype.forEach.call(this.$.components.getDistributedNodes(), function (item) {
                    flexElement.appendChild(item);
                }.bind(this));
                this.appendChild(flexElement);
            },

            whenDesktop: ['horizontal', 'justified', ['flex']],
            whenTablet: this.whenDesktop,
            whenMobile: this.whenDesktop,
        });
    </script>
</polymer-element>