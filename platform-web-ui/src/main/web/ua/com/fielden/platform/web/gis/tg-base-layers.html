<link rel='import' href='/resources/gis/leaflet/providers/leaflet-google-maps.html'>
<!-- TODO does not work due to error: Imported resource from origin 'https://api-maps.yandex.ru' has been blocked from loading by Cross-Origin Resource Sharing policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'https://tgdev.com:9999' is therefore not allowed access. link rel='import' href='/resources/gis/leaflet/providers/leaflet-yandex-maps.html'>  -->

<script>
(function() {
	var BaseLayers = function() {
		var self = this;

		var osmLink = '<a href="http://openstreetmap.org">OpenStreetMap</a>',
			thunLink = '<a href="http://thunderforest.com/">Thunderforest</a>';

		var osmUrl = 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',
			osmAttrib = '&copy; ' + osmLink + ' Contributors',
			landUrl = 'https://{s}.tile.thunderforest.com/landscape/{z}/{x}/{y}.png',
			thunAttrib = '&copy; ' + osmLink + ' Contributors & ' + thunLink;

		// initialise different BaseLayers for different tile providers
		var osmMap = L.tileLayer(osmUrl, {
			maxZoom: 19,
			minZoom: 0,
			attribution: osmAttrib
		});
		var landMap = L.tileLayer(landUrl, {
			maxZoom: 18,
			minZoom: 0,
			attribution: thunAttrib
		});
		// var bingMap = new L.BingLayer("YOUR_BING_API_KEY"); -- need an API key to use it 
		// http://stackoverflow.com/questions/14442055/use-bing-maps-tiles-with-leaflet
		var googleRoadMap = new L.Google('ROADMAP', {
			maxZoom: 21,
			minZoom: 0
		});
		var googleSatelliteMap = new L.Google('SATELLITE', {
			maxZoom: 19,
			minZoom: 0
		});
		var googleHybridMap = new L.Google('HYBRID', {
			maxZoom: 19,
			minZoom: 0
		});
		var googleTerrainMap = new L.Google('TERRAIN', {
			maxZoom: 15,
			minZoom: 0
		});
		/*var yandexRoadMap = new L.Yandex('map', {
			maxZoom: 18,
			minZoom: 0
		});
		var yandexHybridMap = new L.Yandex('hybrid', {
			maxZoom: 19,
			minZoom: 0
		});

		self._ytraffic = new L.Yandex("null", {
			traffic: true,
			opacity: 0.8,
			overlay: true
		});*/

		self._baseLayers = {
			"OpenStreetMap": osmMap,
			"Landscape": landMap,
			// "Bing": bingMap,	
			//"Yandex Roadmap": yandexRoadMap,
			//"Yandex Hybrid": yandexHybridMap,
			"Google Roadmap": googleRoadMap,
			"Google Sattelite": googleSatelliteMap,
			"Google Hybrid": googleHybridMap,
			"Google Terrain": googleTerrainMap
		};
	};

	/** Provides a base layer by its name. */
	BaseLayers.prototype.getBaseLayer = function(name) {
		return this._baseLayers[name];
	}

	/** Returns all base layers as an object. */
	BaseLayers.prototype.getBaseLayers = function() {
		return this._baseLayers;
	}

	/* BaseLayers.prototype.getYTrafficLayer = function() {
		return this._ytraffic;
	} */
	
	L.GIS = L.GIS || {};
	L.GIS.BaseLayers = BaseLayers;
})();
</script>